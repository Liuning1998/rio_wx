<!--pages/account/phone/validate.wxml-->
<navbar return-able="{{true}}" title="手机验证"/>
<view style='margin-top: {{pageMarginTop}}px; padding-top: 44px;'></view>

<view class="page-container">
  <view class="background"><view class="bottom"></view></view>
  <view class="page-content">
    <text class="label">请先验证手机</text>
    <view class="form">
      <view class="field-group">
        <view class="input-group">
          <image src="/images/phone_icon.png"></image>
          <input type="number" placeholder='请输入手机号' placeholder-class='placeholder' maxlength='11' type='number' value='{{ phone }}' bindinput='inputChange' data-name='phone' name='phone' class='phone'></input>
        </view>
      </view>

      <view class="field-group">
        <view class="input-group">
          <image src="/images/phone_icon.png"></image>
          <input placeholder='请输入图形验证码' placeholder-class='placeholder' maxlength='8'  bindinput='inputChange' data-name='_rucaptcha' name='_rucaptcha' class='rucaptcha'></input>
        </view>
        <image class='rucaptcha-img' bindtap='changeRucaptcha' src='{{ rucaptcha_img }}'></image>
      </view>

      <view class="field-group">
        <view class="input-group">
          <image src="/images/password_icon.png"></image>
          <input maxlength='6' type='number' value='{{ verification_code }}' bindinput='inputChange' data-name='verification_code' name='verification_code' class='verification_code' placeholder-class='placeholder' placeholder='请输入短信验证码'></input>
        </view>

        <text wx:if="{{ waitTime > 0 }}" class='waiting'>{{ waitTime }} 秒后重新获取</text>
        <text wx:else bindtap="getCode" class="code-btn">获取短信验证码</text>
      </view>

      <button bindtap='formSubmit' id='bindPhone' class='submit btn {{ !ableSubmit && "disabled" }}'>验证</button>
    </view>
  </view>
</view>

<msgToast msg-data="{{ _msgData }}"/>